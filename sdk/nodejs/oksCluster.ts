// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

/**
 * Manages a cluster.
 *
 * For more information on this resource, see the [User Guide](https://docs.outscale.com/en/userguide/About-OKS.html#_clusters).\
 * For more information on this resource actions, see the [API documentation](https://docs.outscale.com/oks.html#oks-api-clusters).
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as outscale from "@outscale/pulumi-outscale";
 *
 * const project01 = new outscale.OksProject("project01", {
 *     name: "project01",
 *     cidr: "10.50.0.0/18",
 *     region: "eu-west-2",
 * });
 * const cluster01 = new outscale.OksCluster("cluster01", {
 *     projectId: project01.id,
 *     adminWhitelists: ["0.0.0.0/0"],
 *     cidrPods: "10.91.0.0/16",
 *     cidrService: "10.92.0.0/16",
 *     version: "1.32",
 *     name: "cluster01",
 *     controlPlanes: "cp.mono.master",
 *     tags: {
 *         tagkey: "tagvalue",
 *     },
 * });
 * ```
 *
 * ## Import
 *
 * An OKS cluster can be imported using its ID. For example:
 *
 * ```sh
 * $ pulumi import outscale:index/oksCluster:OksCluster cluster id
 * ```
 */
export class OksCluster extends pulumi.CustomResource {
    /**
     * Get an existing OksCluster resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: OksClusterState, opts?: pulumi.CustomResourceOptions): OksCluster {
        return new OksCluster(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'outscale:index/oksCluster:OksCluster';

    /**
     * Returns true if the given object is an instance of OksCluster.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is OksCluster {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === OksCluster.__pulumiType;
    }

    /**
     * If true, load balancer administration is enabled for cluster management. If false, it is disabled. By default, false.
     */
    declare public readonly adminLbu: pulumi.Output<boolean>;
    /**
     * The list of CIDR blocks or IPs allowed to access the cluster via the Kubernetes API.
     */
    declare public readonly adminWhitelists: pulumi.Output<string[]>;
    /**
     * The configuration for Kubernetes admission controllers.
     */
    declare public readonly admissionFlags: pulumi.Output<outputs.OksClusterAdmissionFlags>;
    /**
     * The configurations for automated maintenance windows.
     */
    declare public readonly autoMaintenances: pulumi.Output<outputs.OksClusterAutoMaintenances>;
    /**
     * The CIDR block for Kubernetes pods' network.
     */
    declare public readonly cidrPods: pulumi.Output<string>;
    /**
     * The CIDR block for the Kubernetes services' network.
     */
    declare public readonly cidrService: pulumi.Output<string>;
    /**
     * The IP for the cluster's DNS service.
     */
    declare public readonly clusterDns: pulumi.Output<string>;
    /**
     * The Container Network Interface (CNI) used in the cluster.
     */
    declare public /*out*/ readonly cni: pulumi.Output<string>;
    /**
     * The size of control plane deployment for the cluster. For more information, see [About OKS > Control Planes](https://docs.outscale.com/en/userguide/About-OKS.html#_control_planes). By default, `cp.3.masters.small`.
     */
    declare public readonly controlPlanes: pulumi.Output<string>;
    /**
     * If true, multi-Subregion deployment is enabled for the control plane. If false, it is disabled. By default, false.
     */
    declare public readonly cpMultiAz: pulumi.Output<boolean>;
    /**
     * The list of Subregions where control plane components are deployed.
     */
    declare public readonly cpSubregions: pulumi.Output<string[]>;
    /**
     * A description of the cluster.
     */
    declare public readonly description: pulumi.Output<string>;
    /**
     * If true, cluster deletion through the API is disabled. If false, it is enabled. By default, false.
     */
    declare public readonly disableApiTermination: pulumi.Output<boolean>;
    /**
     * A file containing access configuration to the cluster.
     */
    declare public /*out*/ readonly kubeconfig: pulumi.Output<string>;
    /**
     * A unique name for the cluster within the project. Between 1 and 40 characters, this name must start with a letter and contain only lowercase letters, numbers, or hyphens.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * The ID of the project in which you want to create a cluster.
     */
    declare public readonly projectId: pulumi.Output<string>;
    /**
     * The list of special configurations or behaviors for the cluster.
     */
    declare public readonly quirks: pulumi.Output<string[] | undefined>;
    /**
     * The ID of the API request.
     */
    declare public /*out*/ readonly requestId: pulumi.Output<string>;
    /**
     * The status information of the cluster.
     */
    declare public /*out*/ readonly statuses: pulumi.Output<outputs.OksClusterStatuses>;
    /**
     * The key/value combinations of the tags associated with the cluster's metadata.
     */
    declare public readonly tags: pulumi.Output<{[key: string]: string}>;
    declare public readonly timeouts: pulumi.Output<outputs.OksClusterTimeouts | undefined>;
    /**
     * The Kubernetes version to be deployed for the cluster. For more information, see [GetKubernetesVersions](https://docs.outscale.com/oks.html#getkubenetesversions).
     */
    declare public readonly version: pulumi.Output<string>;

    /**
     * Create a OksCluster resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: OksClusterArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: OksClusterArgs | OksClusterState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as OksClusterState | undefined;
            resourceInputs["adminLbu"] = state?.adminLbu;
            resourceInputs["adminWhitelists"] = state?.adminWhitelists;
            resourceInputs["admissionFlags"] = state?.admissionFlags;
            resourceInputs["autoMaintenances"] = state?.autoMaintenances;
            resourceInputs["cidrPods"] = state?.cidrPods;
            resourceInputs["cidrService"] = state?.cidrService;
            resourceInputs["clusterDns"] = state?.clusterDns;
            resourceInputs["cni"] = state?.cni;
            resourceInputs["controlPlanes"] = state?.controlPlanes;
            resourceInputs["cpMultiAz"] = state?.cpMultiAz;
            resourceInputs["cpSubregions"] = state?.cpSubregions;
            resourceInputs["description"] = state?.description;
            resourceInputs["disableApiTermination"] = state?.disableApiTermination;
            resourceInputs["kubeconfig"] = state?.kubeconfig;
            resourceInputs["name"] = state?.name;
            resourceInputs["projectId"] = state?.projectId;
            resourceInputs["quirks"] = state?.quirks;
            resourceInputs["requestId"] = state?.requestId;
            resourceInputs["statuses"] = state?.statuses;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["timeouts"] = state?.timeouts;
            resourceInputs["version"] = state?.version;
        } else {
            const args = argsOrState as OksClusterArgs | undefined;
            if (args?.adminWhitelists === undefined && !opts.urn) {
                throw new Error("Missing required property 'adminWhitelists'");
            }
            if (args?.cidrPods === undefined && !opts.urn) {
                throw new Error("Missing required property 'cidrPods'");
            }
            if (args?.cidrService === undefined && !opts.urn) {
                throw new Error("Missing required property 'cidrService'");
            }
            if (args?.projectId === undefined && !opts.urn) {
                throw new Error("Missing required property 'projectId'");
            }
            if (args?.version === undefined && !opts.urn) {
                throw new Error("Missing required property 'version'");
            }
            resourceInputs["adminLbu"] = args?.adminLbu;
            resourceInputs["adminWhitelists"] = args?.adminWhitelists;
            resourceInputs["admissionFlags"] = args?.admissionFlags;
            resourceInputs["autoMaintenances"] = args?.autoMaintenances;
            resourceInputs["cidrPods"] = args?.cidrPods;
            resourceInputs["cidrService"] = args?.cidrService;
            resourceInputs["clusterDns"] = args?.clusterDns;
            resourceInputs["controlPlanes"] = args?.controlPlanes;
            resourceInputs["cpMultiAz"] = args?.cpMultiAz;
            resourceInputs["cpSubregions"] = args?.cpSubregions;
            resourceInputs["description"] = args?.description;
            resourceInputs["disableApiTermination"] = args?.disableApiTermination;
            resourceInputs["name"] = args?.name;
            resourceInputs["projectId"] = args?.projectId;
            resourceInputs["quirks"] = args?.quirks;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["timeouts"] = args?.timeouts;
            resourceInputs["version"] = args?.version;
            resourceInputs["cni"] = undefined /*out*/;
            resourceInputs["kubeconfig"] = undefined /*out*/;
            resourceInputs["requestId"] = undefined /*out*/;
            resourceInputs["statuses"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["kubeconfig"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(OksCluster.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering OksCluster resources.
 */
export interface OksClusterState {
    /**
     * If true, load balancer administration is enabled for cluster management. If false, it is disabled. By default, false.
     */
    adminLbu?: pulumi.Input<boolean>;
    /**
     * The list of CIDR blocks or IPs allowed to access the cluster via the Kubernetes API.
     */
    adminWhitelists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The configuration for Kubernetes admission controllers.
     */
    admissionFlags?: pulumi.Input<inputs.OksClusterAdmissionFlags>;
    /**
     * The configurations for automated maintenance windows.
     */
    autoMaintenances?: pulumi.Input<inputs.OksClusterAutoMaintenances>;
    /**
     * The CIDR block for Kubernetes pods' network.
     */
    cidrPods?: pulumi.Input<string>;
    /**
     * The CIDR block for the Kubernetes services' network.
     */
    cidrService?: pulumi.Input<string>;
    /**
     * The IP for the cluster's DNS service.
     */
    clusterDns?: pulumi.Input<string>;
    /**
     * The Container Network Interface (CNI) used in the cluster.
     */
    cni?: pulumi.Input<string>;
    /**
     * The size of control plane deployment for the cluster. For more information, see [About OKS > Control Planes](https://docs.outscale.com/en/userguide/About-OKS.html#_control_planes). By default, `cp.3.masters.small`.
     */
    controlPlanes?: pulumi.Input<string>;
    /**
     * If true, multi-Subregion deployment is enabled for the control plane. If false, it is disabled. By default, false.
     */
    cpMultiAz?: pulumi.Input<boolean>;
    /**
     * The list of Subregions where control plane components are deployed.
     */
    cpSubregions?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * A description of the cluster.
     */
    description?: pulumi.Input<string>;
    /**
     * If true, cluster deletion through the API is disabled. If false, it is enabled. By default, false.
     */
    disableApiTermination?: pulumi.Input<boolean>;
    /**
     * A file containing access configuration to the cluster.
     */
    kubeconfig?: pulumi.Input<string>;
    /**
     * A unique name for the cluster within the project. Between 1 and 40 characters, this name must start with a letter and contain only lowercase letters, numbers, or hyphens.
     */
    name?: pulumi.Input<string>;
    /**
     * The ID of the project in which you want to create a cluster.
     */
    projectId?: pulumi.Input<string>;
    /**
     * The list of special configurations or behaviors for the cluster.
     */
    quirks?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The ID of the API request.
     */
    requestId?: pulumi.Input<string>;
    /**
     * The status information of the cluster.
     */
    statuses?: pulumi.Input<inputs.OksClusterStatuses>;
    /**
     * The key/value combinations of the tags associated with the cluster's metadata.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    timeouts?: pulumi.Input<inputs.OksClusterTimeouts>;
    /**
     * The Kubernetes version to be deployed for the cluster. For more information, see [GetKubernetesVersions](https://docs.outscale.com/oks.html#getkubenetesversions).
     */
    version?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a OksCluster resource.
 */
export interface OksClusterArgs {
    /**
     * If true, load balancer administration is enabled for cluster management. If false, it is disabled. By default, false.
     */
    adminLbu?: pulumi.Input<boolean>;
    /**
     * The list of CIDR blocks or IPs allowed to access the cluster via the Kubernetes API.
     */
    adminWhitelists: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The configuration for Kubernetes admission controllers.
     */
    admissionFlags?: pulumi.Input<inputs.OksClusterAdmissionFlags>;
    /**
     * The configurations for automated maintenance windows.
     */
    autoMaintenances?: pulumi.Input<inputs.OksClusterAutoMaintenances>;
    /**
     * The CIDR block for Kubernetes pods' network.
     */
    cidrPods: pulumi.Input<string>;
    /**
     * The CIDR block for the Kubernetes services' network.
     */
    cidrService: pulumi.Input<string>;
    /**
     * The IP for the cluster's DNS service.
     */
    clusterDns?: pulumi.Input<string>;
    /**
     * The size of control plane deployment for the cluster. For more information, see [About OKS > Control Planes](https://docs.outscale.com/en/userguide/About-OKS.html#_control_planes). By default, `cp.3.masters.small`.
     */
    controlPlanes?: pulumi.Input<string>;
    /**
     * If true, multi-Subregion deployment is enabled for the control plane. If false, it is disabled. By default, false.
     */
    cpMultiAz?: pulumi.Input<boolean>;
    /**
     * The list of Subregions where control plane components are deployed.
     */
    cpSubregions?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * A description of the cluster.
     */
    description?: pulumi.Input<string>;
    /**
     * If true, cluster deletion through the API is disabled. If false, it is enabled. By default, false.
     */
    disableApiTermination?: pulumi.Input<boolean>;
    /**
     * A unique name for the cluster within the project. Between 1 and 40 characters, this name must start with a letter and contain only lowercase letters, numbers, or hyphens.
     */
    name?: pulumi.Input<string>;
    /**
     * The ID of the project in which you want to create a cluster.
     */
    projectId: pulumi.Input<string>;
    /**
     * The list of special configurations or behaviors for the cluster.
     */
    quirks?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The key/value combinations of the tags associated with the cluster's metadata.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    timeouts?: pulumi.Input<inputs.OksClusterTimeouts>;
    /**
     * The Kubernetes version to be deployed for the cluster. For more information, see [GetKubernetesVersions](https://docs.outscale.com/oks.html#getkubenetesversions).
     */
    version: pulumi.Input<string>;
}
